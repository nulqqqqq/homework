CREATE DATABASE COURSE_PROJECT
GO
USE COURSE_PROJECT
CREATE TABLE HOTEL_NUMBER
(
	ID INT PRIMARY KEY IDENTITY,
	NUMBER_OF_ROOM INT NOT NULL CHECK (NUMBER_OF_ROOM>0 AND NUMBER_OF_ROOM<20),
	ROOM_SIZE INT DEFAULT(0) ,
	PRICE_OF_ROOM MONEY 
)
CREATE TABLE ADMINISTRATOR
(
	ID INT PRIMARY KEY IDENTITY,
	NAME_OF_ADMINISTRATOR NVARCHAR(20)NOT NULL,
	LAST_NAME_OF_ADMINISTRATOR NVARCHAR(20)NOT NULL,
	ACCESS_LEVEL NVARCHAR(10)NOT NULL,
)
CREATE TABLE GUEST
(
	ID INT PRIMARY KEY IDENTITY,
	ID_OF_GUEST INT UNIQUE NOT NULL,
	NAME_OF_GUEST NVARCHAR(20)NOT NULL,
	LAST_NAME_OF_GUEST NVARCHAR(20)NOT NULL,
	DATE_OF_SETTLEMENT DATE NOT NULL,
	DATE_OF_EVICTIONS DATE NOT NULL,
	NUMBER_OF_DAYS_OF_STAY INT DEFAULT(1) NOT NULL,
	CONSTRAINT FK_GUEST_TO_HOTEL_NUMBER FOREIGN KEY (ID_OF_GUEST) REFERENCES HOTEL_NUMBER(ID) ON DELETE CASCADE
)
--ДОБАВЛЕНИЕ ДАННЫХ
INSERT INTO GUEST VALUES 
(3,'VLAD','DUL',2022-10-30 ,2022-11-5,6),
(4,'VLAD','DUL',2022-10-30 ,2022-11-5,6),
(10,'ANDREY','KOLESNIK',2022-25-10,2022-30-10,5),
						 
--ВЫБОРКА ДАННЫХ
SELECT * FROM GUEST;
SELECT DISTINCT NAME_OF_GUEST FROM GUEST;
--обновление данных
UPDATE GUEST
SET	NUMBER_OF_DAYS_OF_STAY = DAYS_OF_STAY;
--удаление данных
DELETE GUEST
WHERE DAYS_OF_STAY = 5;
